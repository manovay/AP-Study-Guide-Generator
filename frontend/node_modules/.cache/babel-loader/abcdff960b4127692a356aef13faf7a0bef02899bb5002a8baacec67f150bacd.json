{"ast":null,"code":"var _jsxFileName = \"/Users/aliayaanrizvi/Desktop/Tootur_Project/Tootur/frontend/src/components/login.js\";\n// import React, { useState } from \"react\";\n// import { GoogleLogin } from \"@react-oauth/google\";\n// import \"./login.css\"; // Add this file for styling\n\n// const Login = ({ onLoginSuccess }) => {\n//   const [isDropdownVisible, setDropdownVisible] = useState(false);\n\n//   const handleLoginSuccess = (credentialResponse) => {\n//     console.log(\"Login Success:\", credentialResponse);\n//     onLoginSuccess(credentialResponse);\n//     setDropdownVisible(false); // Hide dropdown after login\n//   };\n\n//   const handleLoginError = () => {\n//     console.error(\"Login Failed\");\n//   };\n\n//   return (\n//     <div\n//       className=\"login-container\"\n//       onMouseEnter={() => setDropdownVisible(true)}\n//       onMouseLeave={() => setDropdownVisible(false)}\n//     >\n//       <button className=\"login-text\">Login</button>\n//       {isDropdownVisible && (\n//         <div className=\"login-dropdown\">\n//           <GoogleLogin\n//             onSuccess={handleLoginSuccess}\n//             onError={handleLoginError}\n\n//           />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Login;\nimport React from \"react\";\nimport { GoogleLogin } from \"@react-oauth/google\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onLoginSuccess\n}) => {\n  const handleLoginSuccess = async credentialResponse => {\n    const decoded = jwt_decode(credentialResponse.credential); // Decode JWT token\n    console.log(\"User Info:\", decoded);\n\n    // Send user data to FastAPI backend\n    try {\n      const response = await axios.post(\"http://localhost:8000/api/users/login\", {\n        google_id: decoded.sub,\n        name: decoded.name,\n        email: decoded.email,\n        picture: decoded.picture\n      });\n      console.log(\"User saved:\", response.data);\n      onLoginSuccess(decoded);\n    } catch (error) {\n      console.error(\"Error saving user:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GoogleLogin, {\n    onSuccess: handleLoginSuccess,\n    onError: () => console.error(\"Login Failed\")\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","GoogleLogin","axios","jsxDEV","_jsxDEV","Login","onLoginSuccess","handleLoginSuccess","credentialResponse","decoded","jwt_decode","credential","console","log","response","post","google_id","sub","name","email","picture","data","error","onSuccess","onError","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/aliayaanrizvi/Desktop/Tootur_Project/Tootur/frontend/src/components/login.js"],"sourcesContent":["// import React, { useState } from \"react\";\n// import { GoogleLogin } from \"@react-oauth/google\";\n// import \"./login.css\"; // Add this file for styling\n\n// const Login = ({ onLoginSuccess }) => {\n//   const [isDropdownVisible, setDropdownVisible] = useState(false);\n\n//   const handleLoginSuccess = (credentialResponse) => {\n//     console.log(\"Login Success:\", credentialResponse);\n//     onLoginSuccess(credentialResponse);\n//     setDropdownVisible(false); // Hide dropdown after login\n//   };\n\n//   const handleLoginError = () => {\n//     console.error(\"Login Failed\");\n//   };\n\n//   return (\n//     <div\n//       className=\"login-container\"\n//       onMouseEnter={() => setDropdownVisible(true)}\n//       onMouseLeave={() => setDropdownVisible(false)}\n//     >\n//       <button className=\"login-text\">Login</button>\n//       {isDropdownVisible && (\n//         <div className=\"login-dropdown\">\n//           <GoogleLogin\n//             onSuccess={handleLoginSuccess}\n//             onError={handleLoginError}\n\n//           />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Login;\nimport React from \"react\";\nimport { GoogleLogin } from \"@react-oauth/google\";\nimport axios from \"axios\";\n\nconst Login = ({ onLoginSuccess }) => {\n  const handleLoginSuccess = async (credentialResponse) => {\n    const decoded = jwt_decode(credentialResponse.credential); // Decode JWT token\n    console.log(\"User Info:\", decoded);\n\n    // Send user data to FastAPI backend\n    try {\n      const response = await axios.post(\"http://localhost:8000/api/users/login\", {\n        google_id: decoded.sub,\n        name: decoded.name,\n        email: decoded.email,\n        picture: decoded.picture,\n      });\n      console.log(\"User saved:\", response.data);\n      onLoginSuccess(decoded);\n    } catch (error) {\n      console.error(\"Error saving user:\", error);\n    }\n  };\n\n  return (\n    <GoogleLogin\n      onSuccess={handleLoginSuccess}\n      onError={() => console.error(\"Login Failed\")}\n    />\n  );\n};\n\nexport default Login;\n"],"mappings":";AAAA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,qBAAqB;AACjD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,KAAK,GAAGA,CAAC;EAAEC;AAAe,CAAC,KAAK;EACpC,MAAMC,kBAAkB,GAAG,MAAOC,kBAAkB,IAAK;IACvD,MAAMC,OAAO,GAAGC,UAAU,CAACF,kBAAkB,CAACG,UAAU,CAAC,CAAC,CAAC;IAC3DC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEJ,OAAO,CAAC;;IAElC;IACA,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,uCAAuC,EAAE;QACzEC,SAAS,EAAEP,OAAO,CAACQ,GAAG;QACtBC,IAAI,EAAET,OAAO,CAACS,IAAI;QAClBC,KAAK,EAAEV,OAAO,CAACU,KAAK;QACpBC,OAAO,EAAEX,OAAO,CAACW;MACnB,CAAC,CAAC;MACFR,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEC,QAAQ,CAACO,IAAI,CAAC;MACzCf,cAAc,CAACG,OAAO,CAAC;IACzB,CAAC,CAAC,OAAOa,KAAK,EAAE;MACdV,OAAO,CAACU,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC5C;EACF,CAAC;EAED,oBACElB,OAAA,CAACH,WAAW;IACVsB,SAAS,EAAEhB,kBAAmB;IAC9BiB,OAAO,EAAEA,CAAA,KAAMZ,OAAO,CAACU,KAAK,CAAC,cAAc;EAAE;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9C,CAAC;AAEN,CAAC;AAACC,EAAA,GA1BIxB,KAAK;AA4BX,eAAeA,KAAK;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}