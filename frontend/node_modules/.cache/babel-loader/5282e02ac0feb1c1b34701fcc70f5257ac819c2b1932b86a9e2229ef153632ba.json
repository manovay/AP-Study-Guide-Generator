{"ast":null,"code":"var _jsxFileName = \"/Users/aliayaanrizvi/Desktop/Tootur_Project/Tootur/frontend/src/App.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from \"react\";\n// import { GoogleOAuthProvider } from \"@react-oauth/google\";\n// import \"./index\";\n// import InputForm from \"./components/InputForm.jsx\";\n// import Login from \"./components/login.js\";\n// import Logout from \"./components/logout.js\";\n\n// const clientId = \"881037752146-jhiu2q74gfkkj7phe2034p53m3nd5k6c.apps.googleusercontent.com\";\n\n// function App() {\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\n//   const [user, setUser] = useState(null); // Holds user profile info\n//   const [studyGuide, setStudyGuide] = useState(\"\");\n//   const [displayedText, setDisplayedText] = useState(\"\");\n\n//   const handleStudyGuideGenerated = (generatedText) => {\n//     setStudyGuide(generatedText);\n//     setDisplayedText(\"\");\n//   };\n\n//   useEffect(() => {\n//     if (studyGuide) {\n//       let index = 0;\n//       const interval = setInterval(() => {\n//         if (index < studyGuide.length) {\n//           setDisplayedText((prev) => prev + studyGuide[index]);\n//           index++;\n//         } else {\n//           clearInterval(interval);\n//         }\n//       }, 2);\n//       return () => clearInterval(interval);\n//     }\n//   }, [studyGuide]);\n\n//   const handleLoginSuccess = (credentialResponse) => {\n//     setIsAuthenticated(true);\n//     setUser(credentialResponse); // Save user data (e.g., profile info)\n//   };\n\n//   const handleLogoutSuccess = () => {\n//     setIsAuthenticated(false);\n//     setUser(null); // Clear user data\n//   };\n\n//   return (\n//     <GoogleOAuthProvider clientId={clientId}>\n//       <div className=\"app\">\n//         <nav className=\"navbar\">\n//           <h1>TooturAI</h1>\n//           <div className=\"auth-buttons\">\n//             {isAuthenticated ? (\n//               <Logout onLogoutSuccess={handleLogoutSuccess} />\n//             ) : (\n//               <Login onLoginSuccess={handleLoginSuccess} />\n//             )}\n//           </div>\n//         </nav>\n\n//         <div className=\"content\">\n//           <div className=\"output-area\">\n//             {studyGuide ? (\n//               <div className=\"study-guide\">\n//                 <h2>Generated Study Guide</h2>\n//                 <p>{displayedText}</p>\n//               </div>\n//             ) : (\n//               <>\n//                 <h1>Got an exam coming up?</h1>\n//                 <h2>Enter a topic to generate a study guide.</h2>\n//               </>\n//             )}\n//           </div>\n//           <InputForm onStudyGuideGenerated={handleStudyGuideGenerated} />\n//         </div>\n//       </div>\n//     </GoogleOAuthProvider>\n//   );\n// }\n\n// export default App;\n\nimport React, { useState } from \"react\";\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\nimport WelcomePage from \"./components/WelcomePage\";\nimport SignupForm from \"./components/SignUpForm\";\nimport InputForm from \"./components/InputForm\";\nimport Logout from \"./components/logout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clientId = \"881037752146-jhiu2q74gfkkj7phe2034p53m3nd5k6c.apps.googleusercontent.com\";\nfunction App() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isProfileComplete, setIsProfileComplete] = useState(false);\n  const [isNewUser, setIsNewUser] = useState(false); // Track if it's a signup flow\n  const [user, setUser] = useState(null);\n  const handleLoginSuccess = async credentialResponse => {\n    const userInfo = await fetch(\"https://www.googleapis.com/oauth2/v3/userinfo\", {\n      headers: {\n        Authorization: `Bearer ${credentialResponse.credential}`\n      }\n    });\n    const user = await userInfo.json();\n    setIsAuthenticated(true);\n    setUser(user);\n\n    // Check if it's a signup flow\n    if (isNewUser) {\n      // Redirect to profile creation\n      setIsProfileComplete(false);\n    } else {\n      setIsProfileComplete(true); // For returning users\n    }\n  };\n  const handleProfileSubmit = async profileData => {\n    // Merge user profile data\n    const newUser = {\n      ...user,\n      ...profileData\n    };\n    try {\n      const response = await fetch(\"http://localhost:8000/api/users\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(newUser)\n      });\n      if (response.ok) {\n        setIsProfileComplete(true);\n        console.log(\"Profile successfully created\");\n      } else {\n        console.error(\"Failed to save profile to the backend\");\n      }\n    } catch (error) {\n      console.error(\"Error saving profile:\", error);\n    }\n  };\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setIsProfileComplete(false);\n    setUser(null);\n  };\n  return /*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n    clientId: clientId,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"TooturAI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(Logout, {\n          onLogoutSuccess: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(WelcomePage, {\n          onLogin: () => {\n            setIsNewUser(false);\n          },\n          onSignup: () => {\n            setIsNewUser(true);\n          },\n          onLoginSuccess: handleLoginSuccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this) : !isProfileComplete && isNewUser ? /*#__PURE__*/_jsxDEV(SignupForm, {\n          onSubmit: handleProfileSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(InputForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"dyvd3J10lYciYgO7eNhn3hmqfFY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","GoogleOAuthProvider","WelcomePage","SignupForm","InputForm","Logout","jsxDEV","_jsxDEV","clientId","App","_s","isAuthenticated","setIsAuthenticated","isProfileComplete","setIsProfileComplete","isNewUser","setIsNewUser","user","setUser","handleLoginSuccess","credentialResponse","userInfo","fetch","headers","Authorization","credential","json","handleProfileSubmit","profileData","newUser","response","method","body","JSON","stringify","ok","console","log","error","handleLogout","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onLogoutSuccess","onLogin","onSignup","onLoginSuccess","onSubmit","_c","$RefreshReg$"],"sources":["/Users/aliayaanrizvi/Desktop/Tootur_Project/Tootur/frontend/src/App.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\n// import { GoogleOAuthProvider } from \"@react-oauth/google\";\n// import \"./index\";\n// import InputForm from \"./components/InputForm.jsx\";\n// import Login from \"./components/login.js\";\n// import Logout from \"./components/logout.js\";\n\n// const clientId = \"881037752146-jhiu2q74gfkkj7phe2034p53m3nd5k6c.apps.googleusercontent.com\";\n\n// function App() {\n//   const [isAuthenticated, setIsAuthenticated] = useState(false);\n//   const [user, setUser] = useState(null); // Holds user profile info\n//   const [studyGuide, setStudyGuide] = useState(\"\");\n//   const [displayedText, setDisplayedText] = useState(\"\");\n\n//   const handleStudyGuideGenerated = (generatedText) => {\n//     setStudyGuide(generatedText);\n//     setDisplayedText(\"\");\n//   };\n\n//   useEffect(() => {\n//     if (studyGuide) {\n//       let index = 0;\n//       const interval = setInterval(() => {\n//         if (index < studyGuide.length) {\n//           setDisplayedText((prev) => prev + studyGuide[index]);\n//           index++;\n//         } else {\n//           clearInterval(interval);\n//         }\n//       }, 2);\n//       return () => clearInterval(interval);\n//     }\n//   }, [studyGuide]);\n\n//   const handleLoginSuccess = (credentialResponse) => {\n//     setIsAuthenticated(true);\n//     setUser(credentialResponse); // Save user data (e.g., profile info)\n//   };\n\n//   const handleLogoutSuccess = () => {\n//     setIsAuthenticated(false);\n//     setUser(null); // Clear user data\n//   };\n\n//   return (\n//     <GoogleOAuthProvider clientId={clientId}>\n//       <div className=\"app\">\n//         <nav className=\"navbar\">\n//           <h1>TooturAI</h1>\n//           <div className=\"auth-buttons\">\n//             {isAuthenticated ? (\n//               <Logout onLogoutSuccess={handleLogoutSuccess} />\n//             ) : (\n//               <Login onLoginSuccess={handleLoginSuccess} />\n//             )}\n//           </div>\n//         </nav>\n\n//         <div className=\"content\">\n//           <div className=\"output-area\">\n//             {studyGuide ? (\n//               <div className=\"study-guide\">\n//                 <h2>Generated Study Guide</h2>\n//                 <p>{displayedText}</p>\n//               </div>\n//             ) : (\n//               <>\n//                 <h1>Got an exam coming up?</h1>\n//                 <h2>Enter a topic to generate a study guide.</h2>\n//               </>\n//             )}\n//           </div>\n//           <InputForm onStudyGuideGenerated={handleStudyGuideGenerated} />\n//         </div>\n//       </div>\n//     </GoogleOAuthProvider>\n//   );\n// }\n\n// export default App;\n\nimport React, { useState } from \"react\";\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\nimport WelcomePage from \"./components/WelcomePage\";\nimport SignupForm from \"./components/SignUpForm\";\nimport InputForm from \"./components/InputForm\";\nimport Logout from \"./components/logout\";\n\nconst clientId = \"881037752146-jhiu2q74gfkkj7phe2034p53m3nd5k6c.apps.googleusercontent.com\";\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isProfileComplete, setIsProfileComplete] = useState(false);\n  const [isNewUser, setIsNewUser] = useState(false); // Track if it's a signup flow\n  const [user, setUser] = useState(null);\n\n  const handleLoginSuccess = async (credentialResponse) => {\n    const userInfo = await fetch(\n      \"https://www.googleapis.com/oauth2/v3/userinfo\",\n      {\n        headers: { Authorization: `Bearer ${credentialResponse.credential}` },\n      }\n    );\n    const user = await userInfo.json();\n    setIsAuthenticated(true);\n    setUser(user);\n\n    // Check if it's a signup flow\n    if (isNewUser) {\n      // Redirect to profile creation\n      setIsProfileComplete(false);\n    } else {\n      setIsProfileComplete(true); // For returning users\n    }\n  };\n\n  const handleProfileSubmit = async (profileData) => {\n    // Merge user profile data\n    const newUser = { ...user, ...profileData };\n\n    try {\n      const response = await fetch(\"http://localhost:8000/api/users\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(newUser),\n      });\n\n      if (response.ok) {\n        setIsProfileComplete(true);\n        console.log(\"Profile successfully created\");\n      } else {\n        console.error(\"Failed to save profile to the backend\");\n      }\n    } catch (error) {\n      console.error(\"Error saving profile:\", error);\n    }\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setIsProfileComplete(false);\n    setUser(null);\n  };\n\n  return (\n    <GoogleOAuthProvider clientId={clientId}>\n      <div className=\"app\">\n        <nav className=\"navbar\">\n          <h1>TooturAI</h1>\n          {isAuthenticated && <Logout onLogoutSuccess={handleLogout} />}\n        </nav>\n\n        <div className=\"content\">\n          {!isAuthenticated ? (\n            <WelcomePage\n              onLogin={() => {\n                setIsNewUser(false);\n              }}\n              onSignup={() => {\n                setIsNewUser(true);\n              }}\n              onLoginSuccess={handleLoginSuccess}\n            />\n          ) : !isProfileComplete && isNewUser ? (\n            <SignupForm onSubmit={handleProfileSubmit} />\n          ) : (\n            <InputForm />\n          )}\n        </div>\n      </div>\n    </GoogleOAuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}